<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div id="request">
		<input type="file" id="file"> 
		<br/>
		<div class="progress">
			<div class="progress-bar" style="width: 60%;background-color:green" background-color="green">60%</div>

		</div>
	</div>
	<script type="text/javascript">

		var file = document.getElementById('file');
		file.onchange=function(){
			var formData = new FormData();
			formData.append("attrName",this.files[0]);
			// 1.创建ajax对象
			var xhr = new XMLHttpRequest();
			// 2.告诉Ajax对象要向哪发送请求，以什么方式发送请求
			// 1)请求方式 2)请求地址
			xhr.open('post','http://localhost:8080/upload');
			//xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
			// 3.发送请求
			xhr.send(formData);
			// 4.获取服务器端响应到客户端的数据
			xhr.onload = function (){
				if(xhr.status==200){
					console.log(xhr.responseText);
				}
			}
		}
		// // 1.创建ajax对象
		// var xhr = new XMLHttpRequest();
		// // 2.告诉Ajax对象要向哪发送请求，以什么方式发送请求
		// // 1)请求方式 2)请求地址
		// xhr.open('get', 'http://localhost:8000/first');
		// // 3.发送请求
		// xhr.send();
		// // 4.获取服务器端响应到客户端的数据
		// xhr.onload = function (){
		// 	console.log(xhr.responseText)
		// }

	</script>
</body>
</html>
